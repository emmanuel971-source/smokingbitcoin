<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Découvrez combien vous auriez pu gagner en investissant dans le Bitcoin plutôt que dans les cigarettes. Calculateur gratuit sans publicité ni inscription.">
    <meta name="keywords" content="bitcoin vs cigarettes, calculateur bitcoin tabac, investissement bitcoin, arrêter de fumer, coût du tabac, santé et finance">
    <meta name="robots" content="index, follow">
    <title>Bitcoin vs Cigarettes Calculator - Investir dans BTC au lieu du tabac</title>
    <link rel="canonical" href="https://smokingbitcoin.pages.dev/">
    <link rel="alternate" href="https://smokingbitcoin.pages.dev/?lang=fr" hreflang="fr">
    <link rel="alternate" href="https://smokingbitcoin.pages.dev/?lang=en" hreflang="en">
    <link rel="alternate" href="https://smokingbitcoin.pages.dev/?lang=es" hreflang="es">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <!-- Open Graph / LinkedIn -->
    <meta property="og:title" content="Bitcoin vs Cigarettes - Et si vous aviez investi autrement ?">
    <meta property="og:description" content="Découvrez combien vous auriez pu gagner en investissant dans le Bitcoin plutôt que de fumer. Une approche éducative et santé publique. Gratuit, sans pub ni inscription.">
    <meta property="og:image" content="https://smokingbitcoin.pages.dev/preview.png">
    <meta property="og:url" content="https://smokingbitcoin.pages.dev/">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="fr_FR">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://smokingbitcoin.pages.dev/">
    <meta name="twitter:title" content="Bitcoin vs Cigarettes - Calculez votre manque à gagner">
    <meta name="twitter:description" content="Découvrez combien vous auriez pu gagner en investissant dans le Bitcoin plutôt que dans les cigarettes. Gratuit et éducatif.">
    <meta name="twitter:image" content="https://smokingbitcoin.pages.dev/preview.png">

    <style>body{background-color:#f8f9fa;font-family:'Poppins','Arial',sans-serif}.header{background:linear-gradient(135deg,#198754 0%,#28a745 70%,#ffc107 100%);color:white;padding:40px 20px;text-align:center;border-bottom:6px solid #ffc107;box-shadow:0 4px 8px rgba(0,0,0,.2);position:relative;overflow:hidden}.header::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,rgba(255,255,255,0) 70%);z-index:1}.header h1,.header h2{position:relative;z-index:2}.header h1{font-size:3rem;font-weight:700;margin:0;text-shadow:2px 2px 6px rgba(0,0,0,.3)}.header h2{font-size:1.6rem;font-style:italic;margin-top:12px;opacity:.9}.icon{margin:0 12px;font-size:2.5rem;vertical-align:middle;transition:transform .3s ease}.icon.pulse{animation:pulse 2s infinite}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.2)}100%{transform:scale(1)}}.container{max-width:800px;margin:20px auto;padding:15px;background:white;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1)}.form-label{font-weight:600;color:#198754;font-size:1.1rem;margin-bottom:8px;transition:color .3s ease}.form-label:hover{color:#146c43}.form-select,.form-control{border-radius:8px;border:2px solid #28a745;transition:border-color .3s ease,box-shadow .3s ease}.form-select:focus,.form-control:focus{border-color:#ffc107;box-shadow:0 0 8px rgba(255,193,7,.3)}.form-range{background:#e9ecef;border-radius:10px;height:8px}.form-range::-webkit-slider-thumb{background:#198754;border:2px solid #fff;box-shadow:0 2px 4px rgba(0,0,0,.2);transition:transform .2s ease}.form-range::-webkit-slider-thumb:hover{transform:scale(1.2)}.form-range::-webkit-slider-thumb:active{background:#146c43}.btn-calculate{background:linear-gradient(90deg,#198754,#28a745);border:none;border-radius:8px;padding:12px;font-size:1.2rem;font-weight:600;width:100%;transition:transform .2s ease,box-shadow .2s ease}.btn-calculate:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.2)}.btn-calculate:active{transform:translateY(0)}.btn-share-x{background-color:#000;border:none;border-radius:50px;padding:10px 20px;transition:transform .2s ease,box-shadow .2s ease;color:white}.btn-share-x:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.2)}.btn-share-linkedin{background-color:#0A66C2;border:none;border-radius:50px;padding:10px 20px;transition:transform .2s ease,box-shadow .2s ease;color:white}.btn-share-linkedin:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(0,0,0,.2)}.btn-methodology{background-color:#f8f9fa;border:2px solid #28a745;border-radius:8px;transition:background-color .3s ease,color .3s ease}.btn-methodology:hover{background-color:#28a745;color:white}#result{margin-top:30px;padding:25px;background:linear-gradient(to right,#d4edda,#e6f4ea);border-radius:12px;box-shadow:0 6px 12px rgba(0,0,0,.15);transition:transform .3s ease}.result-card{background:#fff;padding:15px;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,.1);transition:transform .3s ease,box-shadow .3s ease}.result-card:hover{transform:translateY(-4px);box-shadow:0 4px 16px rgba(0,0,0,.2)}.result-value{font-size:1.8rem;font-weight:700;color:#198754}.million{font-size:2.1rem;color:#ffc107;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.motivation{margin-top:15px;font-size:1.1rem;font-style:italic;color:#198754;font-weight:600}.motivation-big{font-size:1.3rem;font-weight:700}.disclaimer{font-size:.8rem;color:#333;margin-top:15px;line-height:1.4;background:rgba(255,255,255,.2);padding:10px;border-radius:8px}.methodology{margin-top:25px;padding:20px;background:#fff;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.1)}.methodology h3{color:#198754;font-size:1.8rem;font-weight:700}.methodology-section{padding:20px;border-radius:8px;margin-bottom:15px;transition:transform .3s ease}.methodology-section:hover{transform:translateX(5px)}.methodology-section h4::before{font-family:FontAwesome;margin-right:8px}.methodology-section.green h4::before{content:'\f004'}.methodology-section.blue h4::before{content:'\f002'}.methodology-section.purple h4::before{content:'\f080'}.methodology-section.orange h4::before{content:'\f1ec'}.methodology-section.red h4::before{content:'\f071'}.chart-container{max-width:100%;margin:20px auto;padding:10px;background:#fff;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,.1)}canvas{max-width:100%;height:auto!important}.loader{display:none;text-align:center;margin:20px;font-size:1.2rem;color:#198754}.error{color:#dc3545;font-weight:600;margin-top:20px;display:none}#averagePriceField{display:none}.share-buttons{display:flex;justify-content:center;gap:12px;margin-top:15px}#currentValue{font-size:2.8rem!important;color:#146c43;text-shadow:1px 1px 3px rgba(0,0,0,.2)}#emoji{font-size:4.5rem;transition:transform .3s ease}#emoji:hover{transform:scale(1.1)}#cigarettesSmoked{background:rgba(255,255,255,.2);padding:15px;border-radius:10px}footer{background:#f1f3f5;padding:20px;border-top:3px solid #28a745;border-radius:0 0 10px 10px}footer p{margin:5px 0;font-size:.9rem}footer a{color:#198754;transition:color .3s ease}footer a:hover{color:#146c43}@media (max-width:576px){.header h1{font-size:2rem}.header h2{font-size:1.2rem}.icon{font-size:2rem}.container{padding:12px;margin:10px}.result-value{font-size:1.5rem}.million{font-size:1.8rem}.methodology h3{font-size:1.6rem}.methodology-section{padding:15px}#currentValue{font-size:2.2rem!important}#emoji{font-size:3.5rem}.result-card{padding:12px}.form-label{font-size:1rem}.btn-calculate{font-size:1.1rem;padding:10px}.share-buttons .btn{padding:8px 16px}}</style>
</head>
<body>
    <div class="header">
        <h2 id="hook">Bitcoin ou Cigarettes ?</h2>
        <h1><i class="fas fa-lungs icon"></i><span id="title">Bitcoin vs Cigarettes</span><i class="fab fa-bitcoin icon"></i></h1>
    </div>
    
    <div class="container">
        <div class="d-flex justify-content-center gap-2 mb-4">
            <button onclick="applyTranslation('fr')" class="btn btn-sm btn-methodology">🇫🇷 FR</button>
            <button onclick="applyTranslation('en')" class="btn btn-sm btn-methodology">🇬🇧 EN</button>
            <button onclick="applyTranslation('es')" class="btn btn-sm btn-methodology">🇪🇸 ES</button>
        </div>

        <form id="calcForm" aria-label="Bitcoin vs Cigarettes Calculator">
            <div class="mb-3">
                <label for="country" class="form-label" id="countryLabel">Dans quel pays vivez-vous ?</label>
                <select class="form-select" id="country" aria-describedby="countryHelp" onchange="toggleAveragePrice()">
                    <option value="USA">USA 🇺🇸</option>
                    <option value="Canada">Canada 🇨🇦</option>
                    <option value="France" selected>France 🇫🇷</option>
                    <option value="Germany">Germany 🇩🇪</option>
                    <option value="UK">United Kingdom 🇬🇧</option>
                    <option value="Spain">España 🇪🇸</option>
                    <option value="Italy">Italia 🇮🇹</option>
                    <option value="Australia">Australia 🇦🇺</option>
                    <option value="Other">Autre</option>
                </select>
                <small id="countryHelp" class="form-text text-muted">Sélectionnez votre pays</small>
            </div>

            <div class="mb-3" id="averagePriceField" style="display: none;">
                <label for="averagePrice" class="form-label" id="averagePriceLabel">En moyenne, quel a été le prix d'un paquet de 20 cigarettes dans votre passé de fumeur ?</label>
                <input type="number" step="0.01" class="form-control" id="averagePrice" min="1" value="5" aria-describedby="averagePriceHelp">
                <small id="averagePriceHelp" class="form-text text-muted">Saisissez le prix moyen en EUR ou USD</small>
            </div>
            
            <div class="mb-3">
                <label for="cigsPerDay" class="form-label" id="cigsLabel">En moyenne, combien de cigarettes fumez-vous par jour ?</label>
                <input type="range" class="form-range" id="cigsPerDay" min="1" max="60" value="10" aria-describedby="cigsHelp">
                <div class="text-center text-lg font-bold text-success" id="cigsDisplay">10</div>
                <small id="cigsHelp" class="form-text text-muted">Saisissez votre consommation quotidienne</small>
            </div>
            
            <div class="mb-3">
                <label for="yearsSmoking" class="form-label" id="yearsLabel">Depuis combien d'années ?</label>
                <input type="range" class="form-range" id="yearsSmoking" min="1" max="15" value="5" aria-describedby="yearsHelp">
                <div class="text-center text-lg font-bold text-success" id="yearsDisplay">5 ans</div>
                <small id="yearsHelp" class="form-text text-muted">Sélectionnez la durée de votre tabagisme (1-15 ans)</small>
            </div>
            
            <button type="button" class="btn btn-primary btn-calculate" onclick="calculate()" id="calcButton"><i class="fas fa-calculator"></i> Calculer</button>
        </form>
        
        <div class="loader" id="loader">
            <i class="fas fa-spinner fa-spin"></i> Calcul en cours...
        </div>
        
        <div class="error" id="error">Une erreur est survenue. Vérifiez vos saisies et réessayez.</div>
        
        <div id="result" style="display: none;" role="region" aria-live="polite">
            <div class="text-center mb-4 animate__animated animate__zoomIn">
                <div id="emoji" class="text-5xl mb-2">😱</div>
                <div id="currentValue" class="text-4xl font-bold text-success"></div>
            </div>
            <h3 id="resultsTitle">Quel manque à gagner !</h3>
            <div class="row g-3 mb-3">
                <div class="col-md-6">
                    <div class="result-card" id="cigarettesSmoked">
                        <p class="small" id="cigarettesSmokedText">Nombre de cigarettes fumées :</p>
                        <p class="result-value" id="totalCigarettes"></p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="result-card">
                        <p class="small" id="spentText">Argent dépensé en cigarettes :</p>
                        <p class="result-value" id="totalSpent"></p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="result-card">
                        <p class="small" id="btcText">Nombre de bitcoin accumulé :</p>
                        <p class="result-value" id="totalBtc"></p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="result-card">
                        <p class="small" id="currentBtcText">Prix actuel du Bitcoin :</p>
                        <p class="result-value" id="currentBtcPrice"></p>
                    </div>
                </div>
            </div>
            <div class="chart-container">
                <canvas id="evolutionChart" class="mt-4"></canvas>
            </div>
            <p class="motivation" id="motivation">Imaginez ce que vous pourriez faire avec cet argent !<br><span class="motivation-big">Arrêtez de fumer aujourd'hui pour une vie plus saine et plus riche.</span></p>
            <div class="share-buttons">
                <button class="btn btn-share-x mt-2" onclick="shareOnX()" id="shareXButton"><i class="fab fa-x-twitter"></i> Partager sur X</button>
                <button class="btn btn-share-linkedin mt-2" onclick="shareOnLinkedIn()" id="shareLinkedInButton"><i class="fab fa-linkedin"></i> Partager sur LinkedIn</button>
            </div>
            <p class="disclaimer" id="disclaimer">⚠️ Les performances passées ne présument pas de celles à venir. Ce site n'est pas un conseil en investissement, mais il n'est jamais trop tard pour investir dans votre santé.</p>
        </div>
        <div class="text-center mt-4">
            <button class="btn btn-methodology" onclick="toggleMethodology()" id="methodologyButton"><i class="fas fa-info-circle"></i> Méthodologie</button>
        </div>

        <div class="methodology" id="methodology" style="display: none;">
            <h3>📊 Méthodologie</h3>
            <div class="methodology-section green">
                <h4 class="font-bold mb-2">💚 Message de santé publique</h4>
                <p>Ce calculateur vise à illustrer le coût d'opportunité financier du tabagisme, mais l'impact le plus important reste celui sur votre santé. Chaque cigarette non fumée est un investissement dans votre bien-être, votre espérance de vie et votre qualité de vie. Le tabac tue plus de 8 millions de personnes par an dans le monde. <strong>Il n'est jamais trop tard pour arrêter.</strong></p>
                <div class="mt-3 p-3 bg-gray-100 rounded">
                    <p class="text-sm"><strong>Ressources pour arrêter de fumer :</strong></p>
                    <ul class="text-sm mt-2 list-disc pl-5">
                        <li>🇫🇷 France : <a href="https://www.tabac-info-service.fr" target="_blank" rel="noopener noreferrer" class="text-primary">Tabac Info Service</a> - 39 89</li>
                        <li>🇺🇸 USA : <a href="https://www.smokefree.gov" target="_blank" rel="noopener noreferrer" class="text-primary">Smokefree.gov</a> - 1-800-QUIT-NOW</li>
                        <li>🇨🇦 Canada : <a href="https://www.canada.ca/fr/sante-canada/services/tabagisme-et-tabac.html" target="_blank" rel="noopener noreferrer" class="text-primary">Santé Canada</a></li>
                        <li>🇬🇧 UK : <a href="https://www.nhs.uk/better-health/quit-smoking/" target="_blank" rel="noopener noreferrer" class="text-primary">NHS - Quit Smoking</a></li>
                    </ul>
                </div>
            </div>
            <div class="methodology-section blue">
                <h4 class="font-bold mb-2">🔍 Sources des données</h4>
                <ul class="list-disc pl-5">
                    <li><strong>Bitcoin :</strong> Prix historiques basés sur CoinGecko, Investing.com et archives publiques (juillet 2010 - octobre 2025).</li>
                    <li><strong>USA :</strong> U.S. Bureau of Labor Statistics - Consumer Price Index for Cigarettes.</li>
                    <li><strong>Canada :</strong> Statistics Canada - Average Retail Price for Cigarettes.</li>
                    <li><strong>France :</strong> OFDT (Observatoire Français des Drogues et Toxicomanies).</li>
                    <li><strong>Europe :</strong> Euromonitor International, WHO Global Tobacco Price Database.</li>
                    <li><strong>Australie :</strong> Australian Government Department of Health.</li>
                </ul>
            </div>
            <div class="methodology-section green">
                <h4 class="font-bold mb-2">🧮 Méthode de calcul</h4>
                <ol class="list-decimal pl-5">
                    <li><strong>Période de calcul :</strong> Depuis juillet 2010 (première cotation fiable du Bitcoin) jusqu'à octobre 2025.</li>
                    <li><strong>Investissement simulé :</strong> Achat mensuel de Bitcoin avec l'argent dépensé en cigarettes.</li>
                    <li><strong>Prix des cigarettes :</strong> Prix moyen annuel officiel par pays, réparti mensuellement.</li>
                    <li><strong>Prix du Bitcoin :</strong> Prix mensuel moyen réel basé sur les données historiques vérifiées.</li>
                    <li><strong>DCA (Dollar Cost Averaging) :</strong> Simulation d'achats réguliers mensuels, méthode reconnue et plus réaliste.</li>
                    <li><strong>Calcul cumulatif :</strong> Chaque mois additionne l'investissement du mois précédent (effet de capitalisation).</li>
                </ol>
            </div>
            <div class="methodology-section purple">
                <h4 class="font-bold mb-2">📈 Données Bitcoin remarquables</h4>
                <ul class="list-disc pl-5">
                    <li>• <strong>Juillet 2010 :</strong> Premier prix documenté à ~0,05 USD.</li>
                    <li>• <strong>2011 :</strong> Premier franchissement du seuil de 1 USD (février).</li>
                    <li>• <strong>2013 :</strong> Première grande bull run, atteignant ~750 USD.</li>
                    <li>• <strong>2017 :</strong> Bull run historique jusqu'à ~19 000 USD.</li>
                    <li>• <strong>2021 :</strong> Nouveau record à ~69 000 USD.</li>
                    <li>• <strong>2024-2025 :</strong> ETF Bitcoin approuvés, prix dépassant 100 000 USD.</li>
                </ul>
            </div>
            <div class="methodology-section orange">
                <h4 class="font-bold mb-2">📊 Estimation des prix des cigarettes</h4>
                <ul class="list-disc pl-5">
                    <li>Utilisation des indices officiels d'inflation du tabac par pays.</li>
                    <li>Prise en compte des augmentations fiscales documentées.</li>
                    <li>Interpolation linéaire entre les points de données vérifiés.</li>
                    <li>Prix moyens nationaux (ne tiennent pas compte des variations régionales).</li>
                    <li>Base de 20 cigarettes par paquet standard.</li>
                </ul>
            </div>
            <div class="methodology-section red">
                <h4 class="font-bold mb-2">⚠️ Limites et avertissements</h4>
                <ul class="list-disc pl-5">
                    <li><strong>Calcul éducatif :</strong> Ce site est à but informatif uniquement, pas un conseil financier.</li>
                    <li><strong>Simplifications :</strong> Ne considère pas les frais de transaction Bitcoin ni les taxes.</li>
                    <li><strong>Variations locales :</strong> Les prix des cigarettes varient selon les régions/états.</li>
                    <li><strong>Hypothèse d'achat :</strong> Suppose que le Bitcoin était facilement accessible et que l'investisseur aurait conservé ses BTC.</li>
                    <li><strong>Volatilité :</strong> Le Bitcoin reste un actif très volatil avec des risques importants.</li>
                    <li><strong>Performances passées :</strong> Ne garantissent en aucun cas les résultats futurs.</li>
                </ul>
            </div>
        </div>
    </div>
    
    <footer class="text-center mt-4 py-4 text-muted" style="font-size: 0.8rem;" id="footer">
        <p class="font-medium">© 2025 - Projet éducatif à but non lucratif</p>
        <p class="mt-2">💪 Il n'est jamais trop tard pour investir dans votre santé</p>
        <p class="mt-2">Sources : <a href="https://www.coingecko.com" target="_blank" rel="noopener noreferrer">CoinGecko</a>, <a href="https://www.investing.com/crypto/bitcoin/historical-data" target="_blank" rel="noopener noreferrer">Investing.com</a>, <a href="https://www.bls.gov/cpi/" target="_blank" rel="noopener noreferrer">U.S. BLS</a>, <a href="https://www.statcan.gc.ca" target="_blank" rel="noopener noreferrer">Statistics Canada</a>, <a href="https://www.ofdt.fr" target="_blank" rel="noopener noreferrer">OFDT</a>, <a href="https://www.who.int/data/gho" target="_blank" rel="noopener noreferrer">WHO</a>, <a href="https://www.tobaccoatlas.org" target="_blank" rel="noopener noreferrer">Tobacco Atlas</a>.</p>
        <p class="mt-2 text-xs">Les données sont fournies à titre informatif. Ce site ne constitue pas un conseil financier ou médical.</p>
    </footer>
    
    <script>
        // Données cigarettes (USD, paquet de 20)
        const cigarettePriceData = {
            'USA': {2010: 5.51, 2011: 5.95, 2012: 6.23, 2013: 6.41, 2014: 6.53, 2015: 6.43, 2016: 6.52, 2017: 6.65, 2018: 6.85, 2019: 6.96, 2020: 7.10, 2021: 7.35, 2022: 7.93, 2023: 8.25, 2024: 8.75, 2025: 9.10},
            'Canada': {2010: 8.20, 2011: 8.85, 2012: 9.45, 2013: 10.15, 2014: 10.80, 2015: 11.50, 2016: 12.30, 2017: 13.15, 2018: 14.05, 2019: 14.95, 2020: 15.90, 2021: 16.85, 2022: 17.80, 2023: 19.50, 2024: 21.20, 2025: 22.50},
            'France': {2010: 6.50, 2011: 6.80, 2012: 7.10, 2013: 7.50, 2014: 7.90, 2015: 8.30, 2016: 8.70, 2017: 9.20, 2018: 9.70, 2019: 10.20, 2020: 10.70, 2021: 11.30, 2022: 11.90, 2023: 12.50, 2024: 13.10, 2025: 13.50},
            'Germany': {2010: 5.80, 2011: 6.05, 2012: 6.30, 2013: 6.55, 2014: 6.80, 2015: 7.05, 2016: 7.30, 2017: 7.55, 2018: 7.80, 2019: 8.05, 2020: 8.30, 2021: 8.55, 2022: 8.90, 2023: 9.25, 2024: 9.60, 2025: 9.85},
            'UK': {2010: 9.20, 2011: 9.80, 2012: 10.40, 2013: 11.00, 2014: 11.60, 2015: 12.20, 2016: 12.80, 2017: 13.50, 2018: 14.20, 2019: 14.90, 2020: 15.60, 2021: 16.30, 2022: 17.10, 2023: 17.90, 2024: 18.70, 2025: 19.50},
            'Spain': {2010: 4.80, 2011: 5.00, 2012: 5.20, 2013: 5.40, 2014: 5.60, 2015: 5.80, 2016: 6.00, 2017: 6.20, 2018: 6.45, 2019: 6.70, 2020: 6.95, 2021: 7.20, 2022: 7.50, 2023: 7.80, 2024: 8.10, 2025: 8.40},
            'Italy': {2010: 5.50, 2011: 5.70, 2012: 5.90, 2013: 6.10, 2014: 6.30, 2015: 6.50, 2016: 6.70, 2017: 6.90, 2018: 7.15, 2019: 7.40, 2020: 7.65, 2021: 7.90, 2022: 8.20, 2023: 8.50, 2024: 8.80, 2025: 9.10},
            'Australia': {2010: 13.50, 2011: 15.20, 2012: 17.00, 2013: 18.90, 2014: 20.80, 2015: 22.70, 2016: 24.80, 2017: 27.00, 2018: 29.50, 2019: 32.10, 2020: 34.90, 2021: 37.80, 2022: 40.90, 2023: 44.20, 2024: 47.60, 2025: 51.20}
        };

        // Prix moyens mensuels du Bitcoin (USD)
        const btcMonthlyPrices = {
            2010: {7: 0.05, 8: 0.06, 9: 0.06, 10: 0.10, 11: 0.25, 12: 0.30},
            2011: {1: 0.30, 2: 1.00, 3: 0.87, 4: 1.27, 5: 5.23, 6: 17.90, 7: 13.90, 8: 10.50, 9: 5.50, 10: 3.40, 11: 2.80, 12: 4.25},
            2012: {1: 5.27, 2: 4.89, 3: 4.93, 4: 5.08, 5: 5.20, 6: 6.49, 7: 8.22, 8: 10.50, 9: 11.78, 10: 11.20, 11: 11.35, 12: 13.45},
            2013: {1: 13.51, 2: 26.36, 3: 92.48, 4: 144.54, 5: 128.15, 6: 102.24, 7: 95.50, 8: 118.67, 9: 127.10, 10: 196.50, 11: 744.00, 12: 754.00},
            2014: {1: 815.94, 2: 636.77, 3: 584.48, 4: 449.89, 5: 448.38, 6: 593.06, 7: 609.27, 8: 519.37, 9: 408.53, 10: 382.03, 11: 375.35, 12: 320.19},
            2015: {1: 225.88, 2: 238.59, 3: 244.93, 4: 235.54, 5: 233.73, 6: 246.01, 7: 285.95, 8: 274.70, 9: 234.53, 10: 274.71, 11: 360.48, 12: 430.10},
            2016: {1: 433.28, 2: 421.63, 3: 414.97, 4: 447.04, 5: 530.59, 6: 650.63, 7: 631.48, 8: 578.61, 9: 610.86, 10: 661.70, 11: 728.87, 12: 913.66},
            2017: {1: 998.33, 2: 1154.63, 3: 1163.03, 4: 1341.61, 5: 2277.14, 6: 2506.71, 7: 2595.88, 8: 4335.93, 9: 4192.03, 10: 5753.07, 11: 9251.14, 12: 13880.57},
            2018: {1: 11341.30, 2: 10412.84, 3: 8865.63, 4: 9243.23, 5: 7603.35, 6: 6614.99, 7: 7609.69, 8: 6943.87, 9: 6601.36, 10: 6361.81, 11: 4316.01, 12: 3742.70},
            2019: {1: 3550.61, 2: 3807.08, 3: 4041.65, 4: 5142.24, 5: 7908.66, 6: 10818.48, 7: 10742.28, 8: 9639.03, 9: 9161.06, 10: 8811.85, 11: 8695.04, 12: 7193.60},
            2020: {1: 8503.94, 2: 9395.80, 3: 6428.98, 4: 7590.62, 5: 9446.57, 6: 9239.14, 7: 10916.74, 8: 11669.40, 9: 10783.53, 10: 12969.90, 11: 17711.76, 12: 23172.25},
            2021: {1: 34279.51, 2: 45137.58, 3: 55847.12, 4: 57748.68, 5: 49312.68, 6: 35563.27, 7: 37315.87, 8: 45882.25, 9: 46925.50, 10: 60992.66, 11: 57005.43, 12: 47686.81},
            2022: {1: 38013.22, 2: 39316.73, 3: 42206.78, 4: 38540.79, 5: 30283.24, 6: 20498.35, 7: 21564.19, 8: 21346.55, 9: 19426.95, 10: 19315.02, 11: 16950.53, 12: 16833.02},
            2023: {1: 20961.86, 2: 23445.69, 3: 27491.65, 4: 28469.34, 5: 27228.25, 6: 30401.88, 7: 29866.84, 8: 29196.21, 9: 26920.29, 10: 33926.27, 11: 36660.47, 12: 42201.12},
            2024: {1: 43037.79, 2: 51780.76, 3: 66606.85, 4: 64063.23, 5: 66824.03, 6: 61255.01, 7: 64285.59, 8: 59702.45, 9: 60253.86, 10: 67000.00, 11: 88000.00, 12: 95000.00},
            2025: {1: 100000.00, 2: 103000.00, 3: 105000.00, 4: 102000.00, 5: 98000.00, 6: 95000.00, 7: 92000.00, 8: 90000.00, 9: 88000.00, 10: 108289.6}
        };

        // Traductions
        const translations = {
            fr: {
                hook: "₿itcoin ou Cigarettes ?",
                title: "Et si vous aviez investi dans le ₿itcoin plutôt que dans les cigarettes..? ",
                countryLabel: "Dans quel pays vivez-vous ?",
                averagePriceLabel: "En moyenne, quel a été le prix d'un paquet de 20 cigarettes dans votre passé de fumeur ?",
                cigsLabel: "En moyenne, combien de cigarettes fumez-vous par jour ?",
                yearsLabel: "Depuis combien d'années ?",
                calcButton: "Calculer mon manque à gagner",
                resultsTitle: "Détails du calcul :",
                cigarettesSmokedText: "Nombre de cigarettes fumées",
                spentText: "Argent dépensé en cigarettes",
                btcText: "Nombre de ₿itcoin que j'aurais pu accumuler",
                currentBtcText: "Prix actuel du ₿itcoin",
                currentValue: "Valeur en ₿itcoin",
                motivation: "Imaginez ce que vous pourriez faire avec cet argent !",
                motivationBig: "Arrêtez de fumer aujourd'hui pour une vie plus saine et plus riche.",
                disclaimer: "⚠️ Les performances passées ne présument pas de celles à venir. Ce site n'est pas un conseil en investissement, mais il n'est jamais trop tard pour investir dans votre santé.",
                methodologyButton: "Méthodologie",
                years: "ans",
                year: "an",
                countryHelp: "Sélectionnez votre pays",
                averagePriceHelp: "Saisissez le prix moyen en EUR ou USD",
                cigsHelp: "Saisissez votre consommation quotidienne",
                yearsHelp: "Sélectionnez la durée de votre tabagisme (1-15 ans)",
                shareX: "Partager sur X",
                shareLinkedIn: "Partager sur LinkedIn",
                shareWhatsApp: "Partager sur WhatsApp",
                shareFacebook: "Partager sur Facebook",
                shareInstagram: "Partager sur Instagram",
                methodology: `
                    <h3>📊 Méthodologie</h3>
                    <div class="methodology-section green">
                        <h4 class="font-bold mb-2">💚 Message de santé publique</h4>
                        <p>Ce calculateur vise à illustrer le coût d'opportunité financier du tabagisme, mais l'impact le plus important reste celui sur votre santé. Chaque cigarette non fumée est un investissement dans votre bien-être, votre espérance de vie et votre qualité de vie. Le tabac tue plus de 8 millions de personnes par an dans le monde. <strong>Il n'est jamais trop tard pour arrêter.</strong></p>
                        <div class="mt-3 p-3 bg-gray-100 rounded">
                            <p class="text-sm"><strong>Ressources pour arrêter de fumer :</strong></p>
                            <ul class="text-sm mt-2 list-disc pl-5">
                                <li>🇫🇷 France : <a href="https://www.tabac-info-service.fr" target="_blank" rel="noopener noreferrer" class="text-primary">Tabac Info Service</a> - 39 89</li>
                                <li>🇺🇸 USA : <a href="https://www.smokefree.gov" target="_blank" rel="noopener noreferrer" class="text-primary">Smokefree.gov</a> - 1-800-QUIT-NOW</li>
                                <li>🇨🇦 Canada : <a href="https://www.canada.ca/fr/sante-canada/services/tabagisme-et-tabac.html" target="_blank" rel="noopener noreferrer" class="text-primary">Santé Canada</a></li>
                                <li>🇬🇧 UK : <a href="https://www.nhs.uk/better-health/quit-smoking/" target="_blank" rel="noopener noreferrer" class="text-primary">NHS - Quit Smoking</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="methodology-section blue">
                        <h4 class="font-bold mb-2">🔍 Sources des données</h4>
                        <ul class="list-disc pl-5">
                            <li><strong>₿itcoin :</strong> Prix historiques basés sur CoinGecko, Investing.com et archives publiques (juillet 2010 - octobre 2025).</li>
                            <li><strong>USA :</strong> U.S. Bureau of Labor Statistics - Consumer Price Index for Cigarettes.</li>
                            <li><strong>Canada :</strong> Statistics Canada - Average Retail Price for Cigarettes.</li>
                            <li><strong>France :</strong> OFDT (Observatoire Français des Drogues et Toxicomanies).</li>
                            <li><strong>Europe :</strong> Euromonitor International, WHO Global Tobacco Price Database.</li>
                            <li><strong>Australie :</strong> Australian Government Department of Health.</li>
                        </ul>
                    </div>
                    <div class="methodology-section green">
                        <h4 class="font-bold mb-2">🧮 Méthode de calcul</h4>
                        <ol class="list-decimal pl-5">
                            <li><strong>Période de calcul :</strong> Depuis juillet 2010 (première cotation fiable du Bitcoin) jusqu'à octobre 2025.</li>
                            <li><strong>Investissement simulé :</strong> Achat mensuel de Bitcoin avec l'argent dépensé en cigarettes.</li>
                            <li><strong>Prix des cigarettes :</strong> Prix moyen annuel officiel par pays, réparti mensuellement.</li>
                            <li><strong>Prix du Bitcoin :</strong> Prix mensuel moyen réel basé sur les données historiques vérifiées.</li>
                            <li><strong>DCA (Dollar Cost Averaging) :</strong> Simulation d'achats réguliers mensuels, méthode reconnue et plus réaliste.</li>
                            <li><strong>Calcul cumulatif :</strong> Chaque mois additionne l'investissement du mois précédent (effet de capitalisation).</li>
                        </ol>
                    </div>
                    <div class="methodology-section purple">
                        <h4 class="font-bold mb-2">📈 Données Bitcoin remarquables</h4>
                        <ul class="list-disc pl-5">
                            <li>• <strong>Juillet 2010 :</strong> Premier prix documenté à ~0,05 USD.</li>
                            <li>• <strong>2011 :</strong> Premier franchissement du seuil de 1 USD (février).</li>
                            <li>• <strong>2013 :</strong> Première grande bull run, atteignant ~750 USD.</li>
                            <li>• <strong>2017 :</strong> Bull run historique jusqu'à ~19 000 USD.</li>
                            <li>• <strong>2021 :</strong> Nouveau record à ~69 000 USD.</li>
                            <li>• <strong>2024-2025 :</strong> ETF Bitcoin approuvés, prix dépassant 100 000 USD.</li>
                        </ul>
                    </div>
                    <div class="methodology-section orange">
                        <h4 class="font-bold mb-2">📊 Estimation des prix des cigarettes</h4>
                        <ul class="list-disc pl-5">
                            <li>Utilisation des indices officiels d'inflation du tabac par pays.</li>
                            <li>Prise en compte des augmentations fiscales documentées.</li>
                            <li>Interpolation linéaire entre les points de données vérifiés.</li>
                            <li>Prix moyens nationaux (ne tiennent pas compte des variations régionales).</li>
                            <li>Base de 20 cigarettes par paquet standard.</li>
                        </ul>
                    </div>
                    <div class="methodology-section red">
                        <h4 class="font-bold mb-2">⚠️ Limites et avertissements</h4>
                        <ul class="list-disc pl-5">
                            <li><strong>Calcul éducatif :</strong> Ce site est à but informatif uniquement, pas un conseil financier.</li>
                            <li><strong>Simplifications :</strong> Ne considère pas les frais de transaction Bitcoin ni les taxes.</li>
                            <li><strong>Variations locales :</strong> Les prix des cigarettes varient selon les régions/états.</li>
                            <li><strong>Hypothèse d'achat :</strong> Suppose que le Bitcoin était facilement accessible et que l'investisseur aurait conservé ses BTC.</li>
                            <li><strong>Volatilité :</strong> Le Bitcoin reste un actif très volatil avec des risques importants.</li>
                            <li><strong>Performances passées :</strong> Ne garantissent en aucun cas les résultats futurs.</li>
                        </ul>
                    </div>
                `,
                footer: `
                    <p class="font-medium">© 2025 - Projet éducatif à but non lucratif</p>
                    <p class="mt-2">💪 Il n'est jamais trop tard pour investir dans votre santé</p>
                    <p class="mt-2">Sources : <a href="https://www.coingecko.com" target="_blank" rel="noopener noreferrer">CoinGecko</a>, <a href="https://www.investing.com/crypto/bitcoin/historical-data" target="_blank" rel="noopener noreferrer">Investing.com</a>, <a href="https://www.bls.gov/cpi/" target="_blank" rel="noopener noreferrer">U.S. BLS</a>, <a href="https://www.statcan.gc.ca" target="_blank" rel="noopener noreferrer">Statistics Canada</a>, <a href="https://www.ofdt.fr" target="_blank" rel="noopener noreferrer">OFDT</a>, <a href="https://www.who.int/data/gho" target="_blank" rel="noopener noreferrer">WHO</a>, <a href="https://www.tobaccoatlas.org" target="_blank" rel="noopener noreferrer">Tobacco Atlas</a>.</p>
                    <p class="mt-2 text-xs">Les données sont fournies à titre informatif. Ce site ne constitue pas un conseil financier ou médical.</p>
                `,
                meta: {
                    title: "Bitcoin vs Cigarettes Calculator - Investir dans BTC au lieu du tabac",
                    description: "Découvrez combien vous auriez pu gagner en investissant dans le Bitcoin plutôt que dans les cigarettes. Calculateur gratuit sans publicité ni inscription.",
                    keywords: "bitcoin vs cigarettes, calculateur bitcoin tabac, investissement bitcoin, arrêter de fumer, coût du tabac, santé et finance",
                    ogTitle: "Bitcoin vs Cigarettes - Et si vous aviez investi autrement ?",
                    ogDescription: "Découvrez combien vous auriez pu gagner en investissant dans le Bitcoin plutôt que de fumer. Une approche éducative et santé publique. Gratuit, sans pub ni inscription.",
                    twitterTitle: "Bitcoin vs Cigarettes - Calculez votre manque à gagner",
                    twitterDescription: "Découvrez combien vous auriez pu gagner en investissant dans le Bitcoin plutôt que dans les cigarettes. Gratuit et éducatif.",
                    ogLocale: "fr_FR"
                }
            },
            en: {
                hook: "₿itcoin or Cigarettes?",
                title: "What if you had invested in ₿itcoin instead of cigarettes...? ",
                countryLabel: "In which country do you live?",
                averagePriceLabel: "On average, what was the price of a pack of 20 cigarettes in your smoking past?",
                cigsLabel: "On average, how many cigarettes do you smoke per day?",
                yearsLabel: "For how many years?",
                calcButton: "Calculate my loss of earnings",
                resultsTitle: "Calculation details:",
                cigarettesSmokedText: "Number of cigarettes smoked",
                spentText: "Money spent on cigarettes",
                btcText: "Number of ₿itcoin I could have accumulated",
                currentBtcText: "Current ₿itcoin price",
                currentValue: "₿itcoin value today",
                motivation: "Imagine what you could do with that money!",
                motivationBig: "Stop smoking today for a healthier and richer life.",
                disclaimer: "⚠️ Past performance does not presume future performance. This site is not investment advice, but it's never too late to invest in your health.",
                methodologyButton: "Methodology",
                years: "years",
                year: "year",
                countryHelp: "Select your country",
                averagePriceHelp: "Enter the average price in EUR or USD",
                cigsHelp: "Enter your daily consumption",
                yearsHelp: "Select the duration of your smoking (1-15 years)",
                shareX: "Share on X",
                shareLinkedIn: "Share on LinkedIn",
                shareWhatsApp: "Share on WhatsApp",
                shareFacebook: "Share on Facebook",
                shareInstagram: "Share on Instagram",
                methodology: `
                    <h3>📊 Methodology</h3>
                    <div class="methodology-section green">
                        <h4 class="font-bold mb-2">💚 Public Health Message</h4>
                        <p>This calculator aims to illustrate the financial opportunity cost of smoking, but the most important impact is on your health. Each unsmoked cigarette is an investment in your well-being, life expectancy, and quality of life. Tobacco kills more than 8 million people per year worldwide. <strong>It's never too late to quit.</strong></p>
                        <div class="mt-3 p-3 bg-gray-100 rounded">
                            <p class="text-sm"><strong>Resources to quit smoking:</strong></p>
                            <ul class="text-sm mt-2 list-disc pl-5">
                                <li>🇺🇸 USA: <a href="https://www.smokefree.gov" target="_blank" rel="noopener noreferrer" class="text-primary">Smokefree.gov</a> - 1-800-QUIT-NOW</li>
                                <li>🇨🇦 Canada: <a href="https://www.canada.ca/en/health-canada/services/smoking-tobacco.html" target="_blank" rel="noopener noreferrer" class="text-primary">Health Canada</a></li>
                                <li>🇬🇧 UK: <a href="https://www.nhs.uk/better-health/quit-smoking/" target="_blank" rel="noopener noreferrer" class="text-primary">NHS - Quit Smoking</a></li>
                                <li>🇫🇷 France: <a href="https://www.tabac-info-service.fr" target="_blank" rel="noopener noreferrer" class="text-primary">Tabac Info Service</a> - 39 89</li>
                            </ul>
                        </div>
                    </div>
                    <div class="methodology-section blue">
                        <h4 class="font-bold mb-2">🔍 Data Sources</h4>
                        <ul class="list-disc pl-5">
                            <li><strong>Bitcoin:</strong> Historical prices based on CoinGecko, Investing.com, and public archives (July 2010 - October 2025).</li>
                            <li><strong>USA:</strong> U.S. Bureau of Labor Statistics - Consumer Price Index for Cigarettes.</li>
                            <li><strong>Canada:</strong> Statistics Canada - Average Retail Price for Cigarettes.</li>
                            <li><strong>France:</strong> OFDT (French Observatory of Drugs and Addictive Tendencies).</li>
                            <li><strong>Europe:</strong> Euromonitor International, WHO Global Tobacco Price Database.</li>
                            <li><strong>Australia:</strong> Australian Government Department of Health.</li>
                        </ul>
                    </div>
                    <div class="methodology-section green">
                        <h4 class="font-bold mb-2">🧮 Calculation Method</h4>
                        <ol class="list-decimal pl-5">
                            <li><strong>Calculation Period:</strong> From July 2010 (first reliable Bitcoin listing) to October 2025.</li>
                            <li><strong>Simulated Investment:</strong> Monthly Bitcoin purchase with money spent on cigarettes.</li>
                            <li><strong>Cigarette Prices:</strong> Official annual average price per country, distributed monthly.</li>
                            <li><strong>Bitcoin Price:</strong> Real monthly average price based on verified historical data.</li>
                            <li><strong>DCA (Dollar Cost Averaging):</strong> Simulation of regular monthly purchases, a recognized and more realistic method.</li>
                            <li><strong>Cumulative Calculation:</strong> Each month adds to the previous month's investment (compounding effect).</li>
                        </ol>
                    </div>
                    <div class="methodology-section purple">
                        <h4 class="font-bold mb-2">📈 Notable Bitcoin Data</h4>
                        <ul class="list-disc pl-5">
                            <li>• <strong>July 2010:</strong> First documented price at ~0.05 USD.</li>
                            <li>• <strong>2011:</strong> First crossing of the 1 USD threshold (February).</li>
                            <li>• <strong>2013:</strong> First major bull run, reaching ~750 USD.</li>
                            <li>• <strong>2017:</strong> Historic bull run up to ~19,000 USD.</li>
                            <li>• <strong>2021:</strong> New record at ~69,000 USD.</li>
                            <li>• <strong>2024-2025:</strong> Bitcoin ETFs approved, price exceeding 100,000 USD.</li>
                        </ul>
                    </div>
                    <div class="methodology-section orange">
                        <h4 class="font-bold mb-2">📊 Cigarette Price Estimation</h4>
                        <ul class="list-disc pl-5">
                            <li>Use of official tobacco inflation indices per country.</li>
                            <li>Accounting for documented tax increases.</li>
                            <li>Linear interpolation between verified data points.</li>
                            <li>National average prices (do not account for regional variations).</li>
                            <li>Base of 20 cigarettes per standard pack.</li>
                        </ul>
                    </div>
                    <div class="methodology-section red">
                        <h4 class="font-bold mb-2">⚠️ Limitations and Warnings</h4>
                        <ul class="list-disc pl-5">
                            <li><strong>Educational Calculation:</strong> This site is for informational purposes only, not financial advice.</li>
                            <li><strong>Simplifications:</strong> Does not consider Bitcoin transaction fees or taxes.</li>
                            <li><strong>Local Variations:</strong> Cigarette prices vary by regions/states.</li>
                            <li><strong>Purchase Assumption:</strong> Assumes Bitcoin was easily accessible and the investor would have held their BTC.</li>
                            <li><strong>Volatility:</strong> Bitcoin remains a highly volatile asset with significant risks.</li>
                            <li><strong>Past Performance:</strong> Does not guarantee future results in any way.</li>
                        </ul>
                    </div>
                `,
                footer: `
                    <p class="font-medium">© 2025 - Non-profit Educational Project</p>
                    <p class="mt-2">💪 It's never too late to invest in your health</p>
                    <p class="mt-2">Sources: <a href="https://www.coingecko.com" target="_blank" rel="noopener noreferrer">CoinGecko</a>, <a href="https://www.investing.com/crypto/bitcoin/historical-data" target="_blank" rel="noopener noreferrer">Investing.com</a>, <a href="https://www.bls.gov/cpi/" target="_blank" rel="noopener noreferrer">U.S. BLS</a>, <a href="https://www.statcan.gc.ca" target="_blank" rel="noopener noreferrer">Statistics Canada</a>, <a href="https://www.ofdt.fr" target="_blank" rel="noopener noreferrer">OFDT</a>, <a href="https://www.who.int/data/gho" target="_blank" rel="noopener noreferrer">WHO</a>, <a href="https://www.tobaccoatlas.org" target="_blank" rel="noopener noreferrer">Tobacco Atlas</a>.</p>
                    <p class="mt-2 text-xs">The data is provided for informational purposes. This site does not constitute financial or medical advice.</p>
                `,
                meta: {
                    title: "Bitcoin vs Cigarettes Calculator - Invest in BTC Instead of Tobacco",
                    description: "Discover how much you could have earned by investing in Bitcoin instead of cigarettes. Free calculator with no ads or registration.",
                    keywords: "bitcoin vs cigarettes, bitcoin smoking calculator, bitcoin investment, quit smoking, cost of smoking, health and finance",
                    ogTitle: "Bitcoin vs Cigarettes - What If You Had Invested Differently?",
                    ogDescription: "Discover how much you could have earned by investing in Bitcoin instead of smoking. An educational and public health approach. Free, no ads, no registration.",
                    twitterTitle: "Bitcoin vs Cigarettes - Calculate Your Missed Gains",
                    twitterDescription: "Discover how much you could have earned by investing in Bitcoin instead of cigarettes. Free and educational.",
                    ogLocale: "en_US"
                }
            },
            es: {
                hook: "¿₿itcoin o cigarrillos?",
                title: "¿Y si hubieras invertido en ₿itcoin en lugar de cigarrillos...? ",
                countryLabel: "¿En qué país vives?",
                averagePriceLabel: "En promedio, ¿cuál fue el precio de un paquete de 20 cigarrillos en tu pasado como fumador?",
                cigsLabel: "En promedio, ¿cuántos cigarrillos fumas por día?",
                yearsLabel: "¿Durante cuántos años?",
                calcButton: "Calcular mi pérdida de ingresos",
                resultsTitle: "Detalles del cálculo:",
                cigarettesSmokedText: "Número de cigarrillos fumados",
                spentText: "Dinero gastado en cigarrillos",
                btcText: "Número de ₿itcoins que podrías haber acumulado",
                currentBtcText: "Precio actual de ₿itcoin",
                currentValue: "Valor en ₿itcoin hoy",
                motivation: "¡Imagina lo que podrías hacer con ese dinero!",
                motivationBig: "Deja de fumar hoy para una vida más saludable y rica.",
                disclaimer: "⚠️ El rendimiento pasado no presume el futuro. Este sitio no es un consejo de inversión, pero nunca es tarde para invertir en tu salud.",
                methodologyButton: "Metodología",
                years: "años",
                year: "año",
                countryHelp: "Selecciona tu país",
                averagePriceHelp: "Ingresa el precio promedio en EUR o USD",
                cigsHelp: "Ingresa tu consumo diario",
                yearsHelp: "Selecciona la duración de tu tabaquismo (1-15 años)",
                shareX: "Compartir en X",
                shareLinkedIn: "Compartir en LinkedIn",
                shareWhatsApp: "Compartir sur WhatsApp",
                shareFacebook: "Compartir sur Facebook",
                shareInstagram: "Compartir sur Instagram",
                methodology: `
                    <h3>📊 Metodología</h3>
                    <div class="methodology-section green">
                        <h4 class="font-bold mb-2">💚 Mensaje de salud pública</h4>
                        <p>Este calculador busca ilustrar el costo de oportunidad financiero del tabaquismo, pero el impacto más importante sigue siendo en su salud. Cada cigarrillo no fumado es una inversión en su bienestar, esperanza de vida y calidad de vida. El tabaco mata a más de 8 millones de personas al año en el mundo. <strong>Nunca es demasiado tarde para dejarlo.</strong></p>
                        <div class="mt-3 p-3 bg-gray-100 rounded">
                            <p class="text-sm"><strong>Recursos para dejar de fumar:</strong></p>
                            <ul class="text-sm mt-2 list-disc pl-5">
                                <li>🇪🇸 España: <a href="https://www.mscbs.gob.es/campannas/campanas21/tabaco.htm" target="_blank" rel="noopener noreferrer" class="text-primary">Ministerio de Sanidad</a></li>
                                <li>🇺🇸 USA: <a href="https://www.smokefree.gov" target="_blank" rel="noopener noreferrer" class="text-primary">Smokefree.gov</a> - 1-800-QUIT-NOW</li>
                                <li>🇨🇦 Canada: <a href="https://www.canada.ca/es/salud-canada/servicios/tabaco-y-tabaco.html" target="_blank" rel="noopener noreferrer" class="text-primary">Salud Canadá</a></li>
                                <li>🇬🇧 UK: <a href="https://www.nhs.uk/better-health/quit-smoking/" target="_blank" rel="noopener noreferrer" class="text-primary">NHS - Quit Smoking</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="methodology-section blue">
                        <h4 class="font-bold mb-2">🔍 Fuentes de datos</h4>
                        <ul class="list-disc pl-5">
                            <li><strong>Bitcoin:</strong> Precios históricos basados en CoinGecko, Investing.com y archivos públicos (julio 2010 - octubre 2025).</li>
                            <li><strong>USA:</strong> U.S. Bureau of Labor Statistics - Consumer Price Index for Cigarettes.</li>
                            <li><strong>Canada:</strong> Statistics Canada - Average Retail Price for Cigarettes.</li>
                            <li><strong>France:</strong> OFDT (Observatorio Francés de Drogas y Toxicomanías).</li>
                            <li><strong>Europa:</strong> Euromonitor International, WHO Global Tobacco Price Database.</li>
                            <li><strong>Australia:</strong> Australian Government Department of Health.</li>
                        </ul>
                    </div>
                    <div class="methodology-section green">
                        <h4 class="font-bold mb-2">🧮 Método de cálculo</h4>
                        <ol class="list-decimal pl-5">
                            <li><strong>Período de cálculo:</strong> Desde julio 2010 (primera cotización confiable de Bitcoin) hasta octubre 2025.</li>
                            <li><strong>Inversión simulada:</strong> Compra mensual de Bitcoin con el dinero gastado en cigarrillos.</li>
                            <li><strong>Precios de cigarrillos:</strong> Precio promedio anual oficial por país, distribuido mensualmente.</li>
                            <li><strong>Precio de Bitcoin:</strong> Precio promedio mensual real basado en datos históricos verificados.</li>
                            <li><strong>DCA (Dollar Cost Averaging):</strong> Simulación de compras regulares mensuales, método reconocido y más realista.</li>
                            <li><strong>Cálculo acumulativo:</strong> Cada mes suma la inversión del mes anterior (efecto de capitalización).</li>
                        </ol>
                    </div>
                    <div class="methodology-section purple">
                        <h4 class="font-bold mb-2">📈 Datos notables de Bitcoin</h4>
                        <ul class="list-disc pl-5">
                            <li>• <strong>Julio 2010:</strong> Primer precio documentado en ~0,05 USD.</li>
                            <li>• <strong>2011:</strong> Primer cruce del umbral de 1 USD (febrero).</li>
                            <li>• <strong>2013:</strong> Primera gran bull run, alcanzando ~750 USD.</li>
                            <li>• <strong>2017:</strong> Bull run histórico hasta ~19 000 USD.</li>
                            <li>• <strong>2021:</strong> Nuevo récord en ~69 000 USD.</li>
                            <li>• <strong>2024-2025:</strong> ETF de Bitcoin aprobados, precio superando 100 000 USD.</li>
                        </ul>
                    </div>
                    <div class="methodology-section orange">
                        <h4 class="font-bold mb-2">📊 Estimación de precios de cigarrillos</h4>
                        <ul class="list-disc pl-5">
                            <li>Uso de índices oficiales de inflación del tabaco por país.</li>
                            <li>Consideración de aumentos fiscales documentados.</li>
                            <li>Interpolación lineal entre puntos de datos verificados.</li>
                            <li>Precios promedio nacionales (no consideran variaciones regionales).</li>
                            <li>Base de 20 cigarrillos por paquete estándar.</li>
                        </ul>
                    </div>
                    <div class="methodology-section red">
                        <h4 class="font-bold mb-2">⚠️ Limitaciones y advertencias</h4>
                        <ul class="list-disc pl-5">
                            <li><strong>Cálculo educativo:</strong> Este sitio es solo para fines informativos, no es un consejo financiero.</li>
                            <li><strong>Simplificaciones:</strong> No considera tarifas de transacción de Bitcoin ni impuestos.</li>
                            <li><strong>Variaciones locales:</strong> Los precios de cigarrillos varían según regiones/estados.</li>
                            <li><strong>Asunción de compra:</strong> Asume que Bitcoin era fácilmente accesible y que el inversor habría conservado sus BTC.</li>
                            <li><strong>Volatilidad:</strong> Bitcoin sigue siendo un activo altamente volátil con riesgos significativos.</li>
                            <li><strong>Rendimientos pasados:</strong> No garantizan de ninguna manera los resultados futuros.</li>
                        </ul>
                    </div>
                `,
                footer: `
                    <p class="font-medium">© 2025 - Proyecto educativo sin fines de lucro</p>
                    <p class="mt-2">💪 Nunca es demasiado tarde para invertir en tu salud</p>
                    <p class="mt-2">Fuentes: <a href="https://www.coingecko.com" target="_blank" rel="noopener noreferrer">CoinGecko</a>, <a href="https://www.investing.com/crypto/bitcoin/historical-data" target="_blank" rel="noopener noreferrer">Investing.com</a>, <a href="https://www.bls.gov/cpi/" target="_blank" rel="noopener noreferrer">U.S. BLS</a>, <a href="https://www.statcan.gc.ca" target="_blank" rel="noopener noreferrer">Statistics Canada</a>, <a href="https://www.ofdt.fr" target="_blank" rel="noopener noreferrer">OFDT</a>, <a href="https://www.who.int/data/gho" target="_blank" rel="noopener noreferrer">WHO</a>, <a href="https://www.tobaccoatlas.org" target="_blank" rel="noopener noreferrer">Tobacco Atlas</a>.</p>
                    <p class="mt-2 text-xs">Los datos se proporcionan con fines informativos. Este sitio no constituye consejo financiero o médico.</p>
                `,
                meta: {
                    title: "Calculadora Bitcoin vs Cigarrillos - Invertir en BTC en lugar de tabaco",
                    description: "Descubre cuánto podrías haber ganado invirtiendo en Bitcoin en lugar de cigarrillos. Calculadora gratuita sin publicidad ni registro.",
                    keywords: "bitcoin vs cigarrillos, calculadora bitcoin tabaco, inversión bitcoin, dejar de fumar, costo del tabaco, salud y finanzas",
                    ogTitle: "Bitcoin vs Cigarrillos - ¿Y si hubieras invertido de otra manera?",
                    ogDescription: "Descubre cuánto podrías haber ganado invirtiendo en Bitcoin en lugar de fumar. Un enfoque educativo y de salud pública. Gratuito, sin anuncios ni registro.",
                    twitterTitle: "Bitcoin vs Cigarrillos - Calcula tus ganancias perdidas",
                    twitterDescription: "Descubre cuánto podrías haber ganado invirtiendo en Bitcoin en lugar de cigarrillos. Gratuito y educativo.",
                    ogLocale: "es_ES"
                }
            }
        };

        let lang = 'fr';
        let chart = null;

        function updateMetaTags(l) {
            const m = translations[l].meta;
            document.title = m.title;
            document.querySelector('meta[name="description"]').content = m.description;
            document.querySelector('meta[name="keywords"]').content = m.keywords;
            document.querySelector('meta[property="og:title"]').content = m.ogTitle;
            document.querySelector('meta[property="og:description"]').content = m.ogDescription;
            document.querySelector('meta[property="og:locale"]').content = m.ogLocale;
            document.querySelector('meta[name="twitter:title"]').content = m.twitterTitle;
            document.querySelector('meta[name="twitter:description"]').content = m.twitterDescription;
            document.documentElement.lang = l;
        }

        function applyTranslation(l) {
            lang = l;
            const t = translations[l];
            document.getElementById('hook').textContent = t.hook;
            document.getElementById('title').textContent = t.title;
            document.getElementById('countryLabel').textContent = t.countryLabel;
            document.getElementById('averagePriceLabel').textContent = t.averagePriceLabel;
            document.getElementById('cigsLabel').textContent = t.cigsLabel;
            document.getElementById('yearsLabel').textContent = t.yearsLabel;
            document.getElementById('calcButton').innerHTML = '<i class="fas fa-calculator"></i> ' + t.calcButton;
            document.getElementById('resultsTitle').textContent = t.resultsTitle;
            document.getElementById('cigarettesSmokedText').textContent = t.cigarettesSmokedText;
            document.getElementById('spentText').textContent = t.spentText;
            document.getElementById('btcText').textContent = t.btcText;
            document.getElementById('currentBtcText').textContent = t.currentBtcText;
            document.getElementById('motivation').innerHTML = t.motivation + '<br><span class="motivation-big">' + t.motivationBig + '</span>';
            document.getElementById('disclaimer').textContent = t.disclaimer;
            document.getElementById('methodologyButton').innerHTML = '<i class="fas fa-info-circle"></i> ' + t.methodologyButton;
            document.getElementById('countryHelp').textContent = t.countryHelp;
            document.getElementById('averagePriceHelp').textContent = t.averagePriceHelp;
            document.getElementById('cigsHelp').textContent = t.cigsHelp;
            document.getElementById('yearsHelp').textContent = t.yearsHelp;
            document.getElementById('shareXButton').innerHTML = '<i class="fab fa-x-twitter"></i> ' + t.shareX;
            document.getElementById('shareLinkedInButton').innerHTML = '<i class="fab fa-linkedin"></i> ' + t.shareLinkedIn;
            document.getElementById('methodology').innerHTML = t.methodology;
            document.getElementById('footer').innerHTML = t.footer;
            updateCigsDisplay();
            updateYearsDisplay();
            updateMetaTags(l);
        }

        function updateCigsDisplay() {
            const cigs = parseInt(document.getElementById('cigsPerDay').value) || 10;
            document.getElementById('cigsDisplay').textContent = cigs;
        }

        function updateYearsDisplay() {
            const years = parseInt(document.getElementById('yearsSmoking').value) || 5;
            const t = translations[lang];
            document.getElementById('yearsDisplay').textContent = `${years} ${years === 1 ? t.year : t.years}`;
        }

        function toggleAveragePrice() {
            const country = document.getElementById('country').value;
            document.getElementById('averagePriceField').style.display = country === 'Other' ? 'block' : 'none';
        }

        function toggleMethodology() {
            const methodology = document.getElementById('methodology');
            methodology.style.display = methodology.style.display === 'none' ? 'block' : 'none';
        }

        function formatCurrency(value, currency = 'USD') {
            const locale = currency === 'EUR' ? 'fr-FR' : 'en-US';
            const symbol = currency === 'EUR' ? '€' : '$';
            const formatter = new Intl.NumberFormat(locale, {
                style: 'currency',
                currency: currency,
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            });
            let formatted = formatter.format(value);
            // Ajouter un espace avant le symbole pour EUR
            if (currency === 'EUR') {
                formatted = formatted.replace('€', ' €');
            }
            // Remplacer l'espace insécable par un espace standard
            formatted = formatted.replace(/\u00A0/g, ' ');
            // Gérer les millions
            if (value >= 1000000) {
                return `<span class="million">${(value / 1000000).toFixed(3).replace('.', ',')} M ${symbol}</span>`;
            }
            return formatted;
        }

        async function getCurrentPrices() {
            try {
                const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd,eur');
                const data = await response.json();
                return {
                    usd: data.bitcoin.usd,
                    eur: data.bitcoin.eur,
                    usdToEur: data.bitcoin.eur / data.bitcoin.usd
                };
            } catch (error) {
                console.error('Error fetching prices:', error);
                return { usd: 108289.6, eur: 108289.6 * 0.858, usdToEur: 0.858 }; // Fallback
            }
        }

        async function calculate() {
            document.getElementById('loader').style.display = 'block';
            document.getElementById('result').style.display = 'none';
            document.getElementById('error').style.display = 'none';

            const prices = await getCurrentPrices();
            btcMonthlyPrices[2025][10] = prices.usd; // Actualise le prix actuel pour octobre 2025

            const country = document.getElementById('country').value;
            const cigarettesPerDay = parseInt(document.getElementById('cigsPerDay').value) || 10;
            const yearsSmoking = parseInt(document.getElementById('yearsSmoking').value) || 5;

            if (cigarettesPerDay < 1 || cigarettesPerDay > 60 || yearsSmoking < 1 || yearsSmoking > 15) {
                document.getElementById('error').style.display = 'block';
                document.getElementById('loader').style.display = 'none';
                return;
            }

            const isEU = ['France', 'Germany', 'Spain', 'Italy'].includes(country);
            const currency = isEU ? 'EUR' : 'USD';
            const usdToEur = prices.usdToEur;

            let averagePrice = null;
            if (country === 'Other') {
                averagePrice = parseFloat(document.getElementById('averagePrice').value) || 5;
            }

            const currentYear = 2025;
            const currentMonth = 10; // October 2025
            const startYear = Math.max(2010, currentYear - yearsSmoking);

            let totalSpent = 0;
            let totalBTC = 0;
            let monthCount = 0;
            let totalCigarettes = 0;
            const yearlyData = { years: [], spent: [], btcValue: [] };

            for (let year = startYear; year <= currentYear; year++) {
                const startMonth = (year === startYear) ? 7 : 1; // Start from July 2010
                const endMonth = (year === currentYear) ? currentMonth : 12;

                let yearlySpent = 0;
                let yearlyBTC = 0;

                for (let month = startMonth; month <= endMonth; month++) {
                    let cigarettePrice = averagePrice || cigarettePriceData[country]?.[year];
                    if (!cigarettePrice) continue;

                    const btcPrice = btcMonthlyPrices[year]?.[month];
                    if (!btcPrice) continue;

                    const packsPerMonth = (cigarettesPerDay * 30) / 20;
                    const monthlySpent = packsPerMonth * cigarettePrice;
                    const btcBought = monthlySpent / btcPrice;

                    totalSpent += monthlySpent;
                    totalBTC += btcBought;
                    totalCigarettes += cigarettesPerDay * 30;
                    yearlySpent += monthlySpent;
                    yearlyBTC += btcBought;
                    monthCount++;
                }

                if (yearlySpent > 0) {
                    yearlyData.years.push(year);
                    yearlyData.spent.push(totalSpent);
                    yearlyData.btcValue.push(totalBTC * prices.usd);
                }
            }

            if (monthCount === 0 || isNaN(totalSpent) || isNaN(totalBTC)) {
                console.error('Erreur de calcul: aucune donnée valide', { totalSpent, totalBTC, monthCount });
                document.getElementById('error').style.display = 'block';
                document.getElementById('loader').style.display = 'none';
                return;
            }

            let currentBtcPrice = prices.usd;
            let currentValue = totalBTC * currentBtcPrice;

            // Convert to EUR if EU country
            let displayBtcPrice = currentBtcPrice;
            if (currency === 'EUR') {
                totalSpent *= usdToEur;
                currentValue *= usdToEur;
                displayBtcPrice *= usdToEur;
            }

            document.getElementById('totalCigarettes').textContent = totalCigarettes.toLocaleString();
            document.getElementById('totalSpent').innerHTML = formatCurrency(totalSpent, currency);
            document.getElementById('totalBtc').innerHTML = totalBTC.toFixed(6) + ' BTC';
            document.getElementById('currentBtcPrice').innerHTML = formatCurrency(displayBtcPrice, currency);
            document.getElementById('currentValue').innerHTML = formatCurrency(currentValue, currency);

            document.getElementById('loader').style.display = 'none';
            document.getElementById('result').style.display = 'block';

            if (chart) chart.destroy();
            const ctx = document.getElementById('evolutionChart').getContext('2d');
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: yearlyData.years,
                    datasets: [
                        { label: translations[lang].spentText, data: yearlyData.spent, borderColor: '#dc3545', fill: false },
                        { label: translations[lang].currentValue, data: yearlyData.btcValue, borderColor: '#198754', fill: false }
                    ]
                },
                options: { responsive: true, scales: { y: { beginAtZero: true } } }
            });
        }

        function shareOnX() {
            const currentValue = document.getElementById('currentValue').innerText;
            const text = encodeURIComponent(`Et si j'avais investi dans le Bitcoin plutôt que dans les cigarettes... 
Quel manque à gagner : ${currentValue} ! 
#StopSmoking #Bitcoin 
https://smokingbitcoin.pages.dev/`);
            window.open(`https://twitter.com/intent/tweet?text=${text}`, '_blank');
        }

        function shareOnLinkedIn() {
            const siteUrl = "https://smokingbitcoin.pages.dev/";
            const currentValue = document.getElementById("currentValue").innerText || "";
            
            const message = `Et si j'avais investi dans le Bitcoin plutôt que dans les cigarettes... 
Quel manque à gagner : ${currentValue} !
Découvrez le calcul ici 👉 ${siteUrl}
#StopSmoking #Bitcoin #Health #Finance`;

            // Copie du message complet dans le presse-papier
            navigator.clipboard.writeText(message)
              .then(() => {
                alert("✅ Message copié dans le presse-papier. Il ne reste plus qu’à le coller dans LinkedIn !");
                // Ouvre la fenêtre de partage LinkedIn
                window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(siteUrl)}`, "_blank");
              })
              .catch(err => {
                console.error("Erreur de copie :", err);
                // En cas d’échec, on ouvre quand même la page LinkedIn
                window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(siteUrl)}`, "_blank");
              });
        }

        // Initialisation
        document.getElementById('cigsPerDay').addEventListener('input', updateCigsDisplay);
        document.getElementById('yearsSmoking').addEventListener('input', updateYearsDisplay);
        applyTranslation('fr');

        // Détection de la langue du navigateur
        const browserLang = navigator.language.slice(0,2);
        if (['fr', 'en', 'es'].includes(browserLang)) {
            applyTranslation(browserLang);
        }
    </script>
</body>
</html>
