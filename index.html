<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin vs Cigarettes Calculator</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js"></script>
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Arial', sans-serif;
        }
        .header {
            background: linear-gradient(90deg, #198754, #28a745);
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom: 4px solid #ffc107;
        }
        .header h1 {
            font-size: 2.8rem;
            font-weight: bold;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        .header h2 {
            font-size: 1.4rem;
            font-style: italic;
            margin-top: 8px;
        }
        .icon {
            margin-right: 8px;
            font-size: 2.3rem;
            vertical-align: middle;
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
        }
        .form-label {
            font-weight: bold;
            color: #198754;
        }
        .btn-calculate {
            background-color: #198754;
            border: none;
            width: 100%;
            transition: background-color 0.3s;
        }
        .btn-calculate:hover {
            background-color: #146c43;
        }
        .btn-share {
            transition: transform 0.2s;
            margin: 5px;
        }
        .btn-share:hover {
            transform: scale(1.05);
        }
        .btn-share.twitter {
            background-color: #000000;
            color: white;
            border: none;
        }
        .btn-share.linkedin {
            background-color: #0077b5;
            color: white;
            border: none;
        }
        .btn-share.whatsapp {
            background-color: #25D366;
            color: white;
            border: none;
        }
        .btn-share.facebook {
            background-color: #1877f2;
            color: white;
            border: none;
        }
        .btn-share.instagram {
            background: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);
            color: white;
            border: none;
        }
        .btn-methodology {
            background-color: #d3d3d3;
            border: none;
            color: #333;
            transition: background-color 0.3s;
        }
        .btn-methodology:hover {
            background-color: #c0c0c0;
        }
        #result {
            margin-top: 25px;
            text-align: center;
            background: linear-gradient(to right, #87CEEB, #B0E0E6);
            color: #333;
            padding: 20px;
            border-radius: 10px;
        }
        .result-value {
            font-size: 1.7rem;
            font-weight: bold;
            color: #333;
        }
        .million {
            font-size: 2.1rem;
            color: #198754;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        .huge-value {
            font-size: 3rem !important;
            max-width: 100%;
            word-wrap: break-word;
        }
        .motivation {
            margin-top: 15px;
            font-size: 1.1rem;
            color: #333;
            font-weight: bold;
        }
        .motivation-highlight {
            font-size: 1.3rem;
            margin-top: 10px;
        }
        .disclaimer {
            font-size: 0.8rem;
            color: #555;
            margin-top: 15px;
            line-height: 1.4;
            background: rgba(255,255,255,0.5);
            padding: 10px;
            border-radius: 5px;
        }
        .methodology {
            margin-top: 20px;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .methodology h3 {
            color: #198754;
            font-size: 1.8rem;
            font-weight: bold;
        }
        .methodology-section {
            background: #e9ecef;
            padding: 15px;
            border-left: 4px solid;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        .methodology-section.blue {
            border-color: #0d6efd;
        }
        .methodology-section.green {
            border-color: #198754;
        }
        .methodology-section.purple {
            border-color: #6f42c1;
        }
        .methodology-section.orange {
            border-color: #fd7e14;
        }
        .methodology-section.red {
            border-color: #dc3545;
        }
        canvas {
            max-width: 100%;
            height: auto !important;
        }
        .loader {
            display: none;
            text-align: center;
            margin: 20px;
        }
        .error {
            color: #dc3545;
            font-weight: bold;
            margin-top: 20px;
            display: none;
        }
        .custom-price-input {
            display: none;
            margin-top: 10px;
        }
        .fear-emoji {
            font-size: 5rem;
        }
        .small-info {
            font-size: 0.8rem;
            color: #666;
            font-style: italic;
        }
        @media (max-width: 576px) {
            .header h1 {
                font-size: 1.8rem;
            }
            .header h2 {
                font-size: 1.1rem;
            }
            .icon {
                font-size: 1.8rem;
            }
            .container {
                padding: 10px;
            }
            .result-value {
                font-size: 1.4rem;
            }
            .million {
                font-size: 1.7rem;
            }
            .methodology h3 {
                font-size: 1.5rem;
            }
            .fear-emoji {
                font-size: 3rem;
            }
            .huge-value {
                font-size: 2rem !important;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h2 id="hook">Bitcoin ou Cigarettes ?</h2>
        <h1><i class="fas fa-lungs icon"></i><span id="title">Et si vous aviez investi dans le Bitcoin plutôt que dans les cigarettes...</span><i class="fab fa-bitcoin icon"></i></h1>
    </div>
    
    <div class="container">
        <div class="d-flex justify-content-center gap-2 mb-4">
            <button onclick="applyTranslation('fr')" class="btn btn-sm btn-primary">🇫🇷 FR</button>
            <button onclick="applyTranslation('en')" class="btn btn-sm btn-primary">🇬🇧 EN</button>
            <button onclick="applyTranslation('es')" class="btn btn-sm btn-primary">🇪🇸 ES</button>
        </div>

        <form id="calcForm" aria-label="Bitcoin vs Cigarettes Calculator">
            <div class="mb-3">
                <label for="country" class="form-label" id="countryLabel">Dans quel pays vivez-vous ?</label>
                <select class="form-select" id="country" aria-describedby="countryHelp" onchange="toggleCustomPrice()">
                    <option value="USA">USA 🇺🇸</option>
                    <option value="Canada">Canada 🇨🇦</option>
                    <option value="France" selected>France 🇫🇷</option>
                    <option value="Germany">Germany 🇩🇪</option>
                    <option value="UK">United Kingdom 🇬🇧</option>
                    <option value="Spain">España 🇪🇸</option>
                    <option value="Italy">Italia 🇮🇹</option>
                    <option value="Australia">Australia 🇦🇺</option>
                    <option value="Other">Autre / Other / Otro</option>
                </select>
                <small id="countryHelp" class="form-text text-muted">Sélectionnez votre pays</small>
                
                <div class="custom-price-input" id="customPriceDiv">
                    <label for="customPrice" class="form-label mt-2" id="customPriceLabel">En moyenne, quel a été le prix d'un paquet de 20 cigarettes dans votre passé de fumeur ?</label>
                    <input type="number" class="form-control" id="customPrice" min="1" step="0.1" value="10">
                </div>
            </div>
            
            <div class="mb-3">
                <label for="cigsPerDay" class="form-label" id="cigsLabel">En moyenne, combien de cigarettes fumez-vous par jour ?</label>
                <input type="range" class="form-range" id="cigsPerDay" min="1" max="60" value="10" aria-describedby="cigsHelp">
                <div class="text-center text-lg font-bold text-success" id="cigsDisplay">10 cigarettes</div>
                <small id="cigsHelp" class="form-text text-muted">Sélectionnez votre consommation quotidienne (1-60)</small>
            </div>
            
            <div class="mb-3">
                <label for="yearsSmoking" class="form-label" id="yearsLabel">Depuis combien d'années ?</label>
                <input type="range" class="form-range" id="yearsSmoking" min="1" max="15" value="5" aria-describedby="yearsHelp">
                <div class="text-center text-lg font-bold text-success" id="yearsDisplay">5 ans</div>
                <small id="yearsHelp" class="form-text text-muted">Sélectionnez la durée de votre tabagisme (1-15 ans)</small>
            </div>
            
            <button type="button" class="btn btn-primary btn-calculate" onclick="calculate()" id="calcButton"><i class="fas fa-calculator"></i> Calculer</button>
        </form>
        
        <div class="loader" id="loader">
            <i class="fas fa-spinner fa-spin"></i> <span id="loadingText">Calcul en cours...</span>
        </div>
        
        <div class="error" id="error">Une erreur est survenue. Vérifiez vos saisies et réessayez.</div>
        
        <div id="result" style="display: none;" role="region" aria-live="polite">
            <h3 id="resultsTitle">Quel manque à gagner !</h3>
            <div class="text-center mb-4">
                <div class="fear-emoji">😱</div>
                <div class="huge-value font-bold" id="currentValue"></div>
            </div>
            <div class="row g-3 mb-3">
                <div class="col-md-6">
                    <div class="bg-white bg-opacity-10 p-3 rounded">
                        <p class="opacity-75 small" id="cigsCountText">Nombre de cigarettes fumées :</p>
                        <p class="result-value" id="totalCigs"></p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="bg-white bg-opacity-10 p-3 rounded">
                        <p class="opacity-75 small" id="spentText">Argent dépensé en cigarettes :</p>
                        <p class="result-value" id="totalSpent"></p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="bg-white bg-opacity-10 p-3 rounded">
                        <p class="opacity-75 small" id="btcText">Nombre de Bitcoin accumulé :</p>
                        <p class="result-value" id="totalBtc"></p>
                        <p class="small-info" id="avgBtcInfo"></p>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="bg-white bg-opacity-10 p-3 rounded">
                        <p class="opacity-75 small" id="currentBtcText">Prix actuel du Bitcoin :</p>
                        <p class="result-value" id="currentBtcPrice"></p>
                    </div>
                </div>
            </div>
            <div class="row g-3 mb-3">
                <div class="col-12">
                    <div class="bg-white bg-opacity-10 p-3 rounded">
                        <p class="opacity-75 small" id="profitLabel">Profit net :</p>
                        <p class="result-value text-success" id="profit"></p>
                    </div>
                </div>
            </div>
            <canvas id="evolutionChart" class="mt-4"></canvas>
            <p class="motivation" id="motivation">Imaginez ce que vous pourriez faire avec cet argent !</p>
            <p class="motivation-highlight" id="motivationHighlight">Arrêtez de fumer aujourd'hui pour une vie plus saine et plus riche.</p>
            
            <div class="mt-3">
                <button class="btn btn-share twitter" onclick="shareOnX()" id="shareButtonX"><i class="fab fa-x-twitter"></i> X</button>
                <button class="btn btn-share linkedin" onclick="shareOnLinkedIn()" id="shareButtonLinkedIn"><i class="fab fa-linkedin"></i> LinkedIn</button>
                <button class="btn btn-share whatsapp" onclick="shareOnWhatsApp()" id="shareButtonWhatsApp"><i class="fab fa-whatsapp"></i> WhatsApp</button>
                <button class="btn btn-share facebook" onclick="shareOnFacebook()" id="shareButtonFacebook"><i class="fab fa-facebook"></i> Facebook</button>
                <button class="btn btn-share instagram" onclick="shareOnInstagram()" id="shareButtonInstagram"><i class="fab fa-instagram"></i> Instagram</button>
            </div>
            
            <p class="disclaimer" id="disclaimer">⚠️ Les performances passées ne présument pas de celles à venir. Ce site n'est pas un conseil en investissement, mais il n'est jamais trop tard pour investir dans votre santé.</p>
        </div>

        <div class="text-center mt-4">
            <button class="btn btn-methodology" onclick="toggleMethodology()" id="methodologyButton"><i class="fas fa-info-circle"></i> Méthodologie</button>
        </div>

        <div class="methodology" id="methodology" style="display: none;">
            <h3 id="methodologyTitle">📊 Méthodologie</h3>
            
            <div class="methodology-section green" id="healthSection">
                <h4 class="font-bold mb-2" id="healthTitle">💚 Message de santé publique</h4>
                <p id="healthContent">Ce calculateur vise à illustrer le coût d'opportunité financier du tabagisme, mais l'impact le plus important reste celui sur votre santé. Chaque cigarette non fumée est un investissement dans votre bien-être, votre espérance de vie et votre qualité de vie. Le tabac tue plus de 8 millions de personnes par an dans le monde. <strong>Il n'est jamais trop tard pour arrêter.</strong></p>
                <div class="mt-3 p-3 bg-gray-100 rounded">
                    <p class="text-sm"><strong id="resourcesTitle">Ressources pour arrêter de fumer :</strong></p>
                    <ul class="text-sm mt-2 list-disc pl-5">
                        <li>🇫🇷 France : <a href="https://www.tabac-info-service.fr" target="_blank" rel="noopener noreferrer" class="text-primary">Tabac Info Service</a> - 39 89</li>
                        <li>🇺🇸 USA : <a href="https://www.smokefree.gov" target="_blank" rel="noopener noreferrer" class="text-primary">Smokefree.gov</a> - 1-800-QUIT-NOW</li>
                        <li>🇨🇦 Canada : <a href="https://www.canada.ca/fr/sante-canada/services/tabagisme-et-tabac.html" target="_blank" rel="noopener noreferrer" class="text-primary">Santé Canada</a></li>
                        <li>🇬🇧 UK : <a href="https://www.nhs.uk/better-health/quit-smoking/" target="_blank" rel="noopener noreferrer" class="text-primary">NHS - Quit Smoking</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="methodology-section blue" id="sourcesSection">
                <h4 class="font-bold mb-2" id="sourcesTitle">🔍 Sources des données</h4>
                <ul class="list-disc pl-5" id="sourcesList">
                    <li><strong>Bitcoin :</strong> Prix historiques basés sur CoinGecko, Investing.com et archives publiques (juillet 2010 - octobre 2025).</li>
                    <li><strong>USA :</strong> U.S. Bureau of Labor Statistics - Consumer Price Index for Cigarettes.</li>
                    <li><strong>Canada :</strong> Statistics Canada - Average Retail Price for Cigarettes.</li>
                    <li><strong>France :</strong> OFDT (Observatoire Français des Drogues et Toxicomanies).</li>
                    <li><strong>Europe :</strong> Euromonitor International, WHO Global Tobacco Price Database.</li>
                    <li><strong>Australie :</strong> Australian Government Department of Health.</li>
                </ul>
            </div>
            
            <div class="methodology-section green" id="methodSection">
                <h4 class="font-bold mb-2" id="methodTitle">🧮 Méthode de calcul</h4>
                <ol class="list-decimal pl-5" id="methodList">
                    <li><strong>Période de calcul :</strong> Depuis juillet 2010 (première cotation fiable du Bitcoin) jusqu'à octobre 2025.</li>
                    <li><strong>Investissement simulé :</strong> Achat mensuel de Bitcoin avec l'argent dépensé en cigarettes.</li>
                    <li><strong>Prix des cigarettes :</strong> Prix moyen annuel officiel par pays, réparti mensuellement.</li>
                    <li><strong>Prix du Bitcoin :</strong> Prix mensuel moyen réel basé sur les données historiques vérifiées.</li>
                    <li><strong>DCA (Dollar Cost Averaging) :</strong> Simulation d'achats réguliers mensuels, méthode reconnue et plus réaliste.</li>
                    <li><strong>Calcul cumulatif :</strong> Chaque mois additionne l'investissement du mois précédent (effet de capitalisation).</li>
                </ol>
            </div>
            
            <div class="methodology-section purple" id="btcDataSection">
                <h4 class="font-bold mb-2" id="btcDataTitle">📈 Données Bitcoin remarquables</h4>
                <ul class="list-disc pl-5" id="btcDataList">
                    <li>• <strong>Juillet 2010 :</strong> Premier prix documenté à ~0,05 USD.</li>
                    <li>• <strong>2011 :</strong> Premier franchissement du seuil de 1 USD (février).</li>
                    <li>• <strong>2013 :</strong> Première grande bull run, atteignant ~750 USD.</li>
                    <li>• <strong>2017 :</strong> Bull run historique jusqu'à ~19 000 USD.</li>
                    <li>• <strong>2021 :</strong> Nouveau record à ~69 000 USD.</li>
                    <li>• <strong>2024-2025 :</strong> ETF Bitcoin approuvés, prix dépassant 100 000 USD.</li>
                </ul>
            </div>
            
            <div class="methodology-section orange" id="cigPriceSection">
                <h4 class="font-bold mb-2" id="cigPriceTitle">📊 Estimation des prix des cigarettes</h4>
                <ul class="list-disc pl-5" id="cigPriceList">
                    <li>Utilisation des indices officiels d'inflation du tabac par pays.</li>
                    <li>Prise en compte des augmentations fiscales documentées.</li>
                    <li>Interpolation linéaire entre les points de données vérifiés.</li>
                    <li>Prix moyens nationaux (ne tiennent pas compte des variations régionales).</li>
                    <li>Base de 20 cigarettes par paquet standard.</li>
                </ul>
            </div>
            
            <div class="methodology-section red" id="limitsSection">
                <h4 class="font-bold mb-2" id="limitsTitle">⚠️ Limites et avertissements</h4>
                <ul class="list-disc pl-5" id="limitsList">
                    <li><strong>Calcul éducatif :</strong> Ce site est à but informatif uniquement, pas un conseil financier.</li>
                    <li><strong>Simplifications :</strong> Ne considère pas les frais de transaction Bitcoin ni les taxes.</li>
                    <li><strong>Variations locales :</strong> Les prix des cigarettes varient selon les régions/états.</li>
                    <li><strong>Hypothèse d'achat :</strong> Suppose que le Bitcoin était facilement accessible et que l'investisseur aurait conservé ses BTC.</li>
                    <li><strong>Volatilité :</strong> Le Bitcoin reste un actif très volatil avec des risques importants.</li>
                    <li><strong>Performances passées :</strong> Ne garantissent en aucun cas les résultats futurs.</li>
                </ul>
            </div>
        </div>
    </div>
    
    <footer class="text-center mt-4 py-4 text-muted" style="font-size: 0.8rem;">
        <p class="font-medium">© 2025 - Projet éducatif à but non lucratif</p>
        <p class="mt-2">💪 Il n'est jamais trop tard pour investir dans votre santé</p>
        <p class="mt-2">Sources : <a href="https://www.coingecko.com" target="_blank" rel="noopener noreferrer">CoinGecko</a>, <a href="https://www.investing.com/crypto/bitcoin/historical-data" target="_blank" rel="noopener noreferrer">Investing.com</a>, <a href="https://www.bls.gov/cpi/" target="_blank" rel="noopener noreferrer">U.S. BLS</a>, <a href="https://www.statcan.gc.ca" target="_blank" rel="noopener noreferrer">Statistics Canada</a>, <a href="https://www.ofdt.fr" target="_blank" rel="noopener noreferrer">OFDT</a>, <a href="https://www.who.int/data/gho" target="_blank" rel="noopener noreferrer">WHO</a>, <a href="https://www.tobaccoatlas.org" target="_blank" rel="noopener noreferrer">Tobacco Atlas</a>.</p>
        <p class="mt-2 text-xs">Les données sont fournies à titre informatif. Ce site ne constitue pas un conseil financier ou médical.</p>
    </footer>
    
    <script>
        // Données cigarettes (paquet de 20)
        const cigarettePriceData = {
            'USA': {currency: 'USD', prices: {2010: 5.51, 2011: 5.95, 2012: 6.23, 2013: 6.41, 2014: 6.53, 2015: 6.43, 2016: 6.52, 2017: 6.65, 2018: 6.85, 2019: 6.96, 2020: 7.10, 2021: 7.35, 2022: 7.93, 2023: 8.25, 2024: 8.75, 2025: 9.10}},
            'Canada': {currency: 'USD', prices: {2010: 8.20, 2011: 8.85, 2012: 9.45, 2013: 10.15, 2014: 10.80, 2015: 11.50, 2016: 12.30, 2017: 13.15, 2018: 14.05, 2019: 14.95, 2020: 15.90, 2021: 16.85, 2022: 17.80, 2023: 19.50, 2024: 21.20, 2025: 22.50}},
            'France': {currency: 'EUR', prices: {2010: 6.50, 2011: 6.80, 2012: 7.10, 2013: 7.50, 2014: 7.90, 2015: 8.30, 2016: 8.70, 2017: 9.20, 2018: 9.70, 2019: 10.20, 2020: 10.70, 2021: 11.30, 2022: 11.90, 2023: 12.50, 2024: 13.10, 2025: 13.50}},
            'Germany': {currency: 'EUR', prices: {2010: 5.80, 2011: 6.05, 2012: 6.30, 2013: 6.55, 2014: 6.80, 2015: 7.05, 2016: 7.30, 2017: 7.55, 2018: 7.80, 2019: 8.05, 2020: 8.30, 2021: 8.55, 2022: 8.90, 2023: 9.25, 2024: 9.60, 2025: 9.85}},
            'UK': {currency: 'EUR', prices: {2010: 9.20, 2011: 9.80, 2012: 10.40, 2013: 11.00, 2014: 11.60, 2015: 12.20, 2016: 12.80, 2017: 13.50, 2018: 14.20, 2019: 14.90, 2020: 15.60, 2021: 16.30, 2022: 17.10, 2023: 17.90, 2024: 18.70, 2025: 19.50}},
            'Spain': {currency: 'EUR', prices: {2010: 4.80, 2011: 5.00, 2012: 5.20, 2013: 5.40, 2014: 5.60, 2015: 5.80, 2016: 6.00, 2017: 6.20, 2018: 6.45, 2019: 6.70, 2020: 6.95, 2021: 7.20, 2022: 7.50, 2023: 7.80, 2024: 8.10, 2025: 8.40}},
            'Italy': {currency: 'EUR', prices: {2010: 5.50, 2011: 5.70, 2012: 5.90, 2013: 6.10, 2014: 6.30, 2015: 6.50, 2016: 6.70, 2017: 6.90, 2018: 7.15, 2019: 7.40, 2020: 7.65, 2021: 7.90, 2022: 8.20, 2023: 8.50, 2024: 8.80, 2025: 9.10}},
            'Australia': {currency: 'USD', prices: {2010: 13.50, 2011: 15.20, 2012: 17.00, 2013: 18.90, 2014: 20.80, 2015: 22.70, 2016: 24.80, 2017: 27.00, 2018: 29.50, 2019: 32.10, 2020: 34.90, 2021: 37.80, 2022: 40.90, 2023: 44.20, 2024: 47.60, 2025: 51.20}}
        };

        // Prix moyens mensuels du Bitcoin (USD)
        const btcMonthlyPrices = {
            2010: {7: 0.05, 8: 0.06, 9: 0.06, 10: 0.10, 11: 0.25, 12: 0.30},
            2011: {1: 0.30, 2:
